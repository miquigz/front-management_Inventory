<div class="w-full flex items-center flex-col flex-wrap items-center py-16 bg-stone-700/50 min-h-screen">
  <div class="w-full flex items-end mt-8">
    <span class="mx-2 self-end mb-2 w-32">
      <p (click)="openModal()"
      class="py-2.5 sm:hover:bg-rose-500/75 sm:hover:text-black sm:hover:font-semibold transition cursor-pointer cursor-pointer px-1 text-center md:mt-3 rounded-lg bg-rose-300/75">Add product</p>
    </span>
    <div class="w-full flex justify-center">
        <h2 class="text-center text-2xl mb-2 font-semi-bold">Products</h2>
    </div>
  </div>



<div class="w-full overflow-auto bg-[#424242]">
  <table #table mat-table [dataSource]="dataSource" class="mat-elevation-z8 w-full text-md border border-gray-200/50">

    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef> Code </th>
      <td mat-cell *matCellDef="let element"> {{element.code}} </td>
    </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element"> {{element.description}} </td>
      </ng-container>
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef> Unity Price  </th>
        <td mat-cell *matCellDef="let element"> {{element.price | currency}} </td>
      </ng-container>
      <ng-container matColumnDef="iva">
        <th mat-header-cell *matHeaderCellDef> IVA </th>
        <td mat-cell *matCellDef="let element"> {{element.iva | number:'1.1-2'}}%</td>
      </ng-container>
      <ng-container matColumnDef="acquisitionPrice">
        <th mat-header-cell *matHeaderCellDef> Acquisition Price </th>
        <td mat-cell *matCellDef="let element"> {{element.acquisitionPrice | currency}} </td>
      </ng-container>
      <ng-container matColumnDef="finalPrice">
        <th mat-header-cell *matHeaderCellDef> Final Price </th>
        <td mat-cell *matCellDef="let element"> {{element.price * (element.iva + 1) | currency}} </td>
      </ng-container>
      <ng-container matColumnDef="stock">
        <th mat-header-cell *matHeaderCellDef> Stock </th>
        <td mat-cell *matCellDef="let element"> {{element.stock}} </td>
      </ng-container>
      <ng-container matColumnDef="monthlyStock">
        <th mat-header-cell *matHeaderCellDef> Monthly Stock</th>
        <td mat-cell *matCellDef="let element"> {{element.monthlyStock}} </td>
      </ng-container>
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef> Category </th>
        <td mat-cell *matCellDef="let element"> {{element.category}} </td>
      </ng-container>
      <ng-container matColumnDef="source">
        <th mat-header-cell *matHeaderCellDef> Company/Source </th>
        <td mat-cell *matCellDef="let element"> {{element.source}} </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let element">
            <button mat-raised-button color="accent" (click)="onEdit(element.code)">Edit</button>
          </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef> Delete </th>
        <td mat-cell *matCellDef="let element"> 
          <button mat-raised-button color="warn" (click)="onDelete(element.code)">Delete</button>
        </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
      <mat-paginator [pageSizeOptions]="[5, 10, 20]"
        showFirstLastButtons class="w-full"
        aria-label="Select page of products">
      </mat-paginator>
  </div>
</div>